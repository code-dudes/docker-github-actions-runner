version: '3.8'

services:
  actions-runner:
    build:
      context: .
      args:
        RUNNER_VERSION: ${RUNNER_VERSION}
    container_name: actions-runner
    restart: unless-stopped
    environment:
      - GITHUB_OWNER=${GITHUB_OWNER}
      - GITHUB_REPOSITORY=${GITHUB_REPOSITORY}
      - RUNNER_TOKEN=${RUNNER_TOKEN}
      - RUNNER_NAME=${RUNNER_NAME}
      - RUNNER_LABELS=${RUNNER_LABELS}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - actions-runner-data:/actions-runner

volumes:
  actions-runner-data: